<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSoC64 Secure Boot Utilities Middleware Library 1.0: Key import and export</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="IFXCYP_one-line.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSoC64 Secure Boot Utilities Middleware Library 1.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__import__export.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Key import and export<div class="ingroups"><a class="el" href="group__psacrypto.html">PSA crypto</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga9ab16c7405b7975390450a98240611d2"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a></td></tr>
<tr class="memdesc:ga9ab16c7405b7975390450a98240611d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This type represents open handles to keys.  <a href="#ga9ab16c7405b7975390450a98240611d2">More...</a><br /></td></tr>
<tr class="separator:ga9ab16c7405b7975390450a98240611d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5078048b65cbe5cb22b8cc725f048a57"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a></td></tr>
<tr class="memdesc:ga5078048b65cbe5cb22b8cc725f048a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Key ID / slot number.  <a href="#ga5078048b65cbe5cb22b8cc725f048a57">More...</a><br /></td></tr>
<tr class="separator:ga5078048b65cbe5cb22b8cc725f048a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadfc86f433236d285f952ef0cab265c54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#gadfc86f433236d285f952ef0cab265c54">cy_p64_psa_destroy_key</a> (<a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> handle)</td></tr>
<tr class="memdesc:gadfc86f433236d285f952ef0cab265c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a key.  <a href="#gadfc86f433236d285f952ef0cab265c54">More...</a><br /></td></tr>
<tr class="separator:gadfc86f433236d285f952ef0cab265c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93ee3c9c700505b08fc93c2136210fb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#ga93ee3c9c700505b08fc93c2136210fb7">cy_p64_psa_generate_key</a> (<a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *handle, const <a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *attributes)</td></tr>
<tr class="memdesc:ga93ee3c9c700505b08fc93c2136210fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a key or key pair.  <a href="#ga93ee3c9c700505b08fc93c2136210fb7">More...</a><br /></td></tr>
<tr class="separator:ga93ee3c9c700505b08fc93c2136210fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7999832dd9a8e2be45df12dcb54e67c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#ga7999832dd9a8e2be45df12dcb54e67c2">cy_p64_psa_import_key</a> (const <a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *attributes, const uint8_t *data, size_t data_length, <a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *handle)</td></tr>
<tr class="memdesc:ga7999832dd9a8e2be45df12dcb54e67c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imports a key in binary format.  <a href="#ga7999832dd9a8e2be45df12dcb54e67c2">More...</a><br /></td></tr>
<tr class="separator:ga7999832dd9a8e2be45df12dcb54e67c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf498120967cfa9a4fcbcbe39921f750"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#gacf498120967cfa9a4fcbcbe39921f750">cy_p64_psa_get_key_attributes</a> (<a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> handle, <a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *attributes)</td></tr>
<tr class="memdesc:gacf498120967cfa9a4fcbcbe39921f750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the attributes of a key.  <a href="#gacf498120967cfa9a4fcbcbe39921f750">More...</a><br /></td></tr>
<tr class="separator:gacf498120967cfa9a4fcbcbe39921f750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa8a55113a8b51c8e1ce5b688eb5048b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#gaaa8a55113a8b51c8e1ce5b688eb5048b">cy_p64_psa_export_key</a> (<a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> handle, uint8_t *data, size_t data_size, size_t *data_length)</td></tr>
<tr class="memdesc:gaaa8a55113a8b51c8e1ce5b688eb5048b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exports a key in binary format.  <a href="#gaaa8a55113a8b51c8e1ce5b688eb5048b">More...</a><br /></td></tr>
<tr class="separator:gaaa8a55113a8b51c8e1ce5b688eb5048b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0cde20348c4e078827c5e9eecc98d997"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#ga0cde20348c4e078827c5e9eecc98d997">cy_p64_psa_export_public_key</a> (<a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> handle, uint8_t *data, size_t data_size, size_t *data_length)</td></tr>
<tr class="memdesc:ga0cde20348c4e078827c5e9eecc98d997"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export a public key or the public part of a key pair in binary format.  <a href="#ga0cde20348c4e078827c5e9eecc98d997">More...</a><br /></td></tr>
<tr class="separator:ga0cde20348c4e078827c5e9eecc98d997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29388a8ff941feda63570759ee7b9ccd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#ga29388a8ff941feda63570759ee7b9ccd">cy_p64_keys_load_key_handle</a> (<a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a> key_id, <a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *handle)</td></tr>
<tr class="memdesc:ga29388a8ff941feda63570759ee7b9ccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads key handle from the Secure FlashBoot key storage.  <a href="#ga29388a8ff941feda63570759ee7b9ccd">More...</a><br /></td></tr>
<tr class="separator:ga29388a8ff941feda63570759ee7b9ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab40e50b421908c113ba08e843d63ace5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#gab40e50b421908c113ba08e843d63ace5">cy_p64_keys_store_key</a> (<a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a> key_id, <a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> handle)</td></tr>
<tr class="memdesc:gab40e50b421908c113ba08e843d63ace5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stores a new key handle for the key slot.  <a href="#gab40e50b421908c113ba08e843d63ace5">More...</a><br /></td></tr>
<tr class="separator:gab40e50b421908c113ba08e843d63ace5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefff2832453c9a06b04b13af45b0d665"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#gaefff2832453c9a06b04b13af45b0d665">cy_p64_keys_close_key</a> (<a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a> key_id)</td></tr>
<tr class="memdesc:gaefff2832453c9a06b04b13af45b0d665"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function destroys the key handle stored in key_id slot and clears handle from Secure FlashBoot key storage.  <a href="#gaefff2832453c9a06b04b13af45b0d665">More...</a><br /></td></tr>
<tr class="separator:gaefff2832453c9a06b04b13af45b0d665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga591003c8cb25a205c84f2bca90f2fb5a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__import__export.html#ga591003c8cb25a205c84f2bca90f2fb5a">cy_p64_keys_get_count</a> (void)</td></tr>
<tr class="memdesc:ga591003c8cb25a205c84f2bca90f2fb5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the maximum amount of keys supported by Secure FlashBoot.  <a href="#ga591003c8cb25a205c84f2bca90f2fb5a">More...</a><br /></td></tr>
<tr class="separator:ga591003c8cb25a205c84f2bca90f2fb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga9ab16c7405b7975390450a98240611d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ab16c7405b7975390450a98240611d2">&#9670;&nbsp;</a></span>cy_p64_psa_key_handle_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This type represents open handles to keys. </p>
<p>0 is not a valid key handle. How other handle values are assigned is implementation-dependent. </p>

</div>
</div>
<a id="ga5078048b65cbe5cb22b8cc725f048a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5078048b65cbe5cb22b8cc725f048a57">&#9670;&nbsp;</a></span>cy_p64_key_slot_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Key ID / slot number. </p>
<p>This type represents key slot in Secure FlashBoot. Each slot(1 to <a class="el" href="group__syscalls__macros.html#ga03ec1b7a824de402987e2b248b8ef4b1" title="The number of keys used by SFB PSA Crypto. ">CY_P64_KEY_SLOT_STATIC_MAX</a>) stores key handle which is initialized during boot by SFB. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadfc86f433236d285f952ef0cab265c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadfc86f433236d285f952ef0cab265c54">&#9670;&nbsp;</a></span>cy_p64_psa_destroy_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_destroy_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a key. </p>
<p>This function destroys a key from both volatile memory and, if applicable, non-volatile storage. Implementations shall make a best effort to ensure that that the key material cannot be recovered.</p>
<p>This function also erases any metadata such as policies and frees resources associated with the key. To free all resources associated with the key, all handles to the key must be closed or destroyed.</p>
<p>Destroying the key makes the handle invalid, and the key handle must not be used again by the application. Using other open handles to the destroyed key in a cryptographic operation will result in an error.</p>
<p>If a key is currently in use in a multipart operation, destroying the key will cause the multipart operation to fail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle to the key to erase. If this is <code>0</code>, do nothing and return <code>CY_P64_PSA_SUCCESS</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td><code>handle</code> was a valid handle and the key material that it referred to has been erased. Alternatively, <code>handle</code> is <code>0</code>. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga489bed3982ecce165e0524e5debb9fd0" title="The requested action is denied by a policy. ">CY_P64_PSA_ERROR_NOT_PERMITTED</a></td><td>The key cannot be erased because it is read-only, either due to a policy or due to physical restrictions. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga179d52d2be9a5dcd9c1f3dc71f2b71a5" title="The key handle is not valid. ">CY_P64_PSA_ERROR_INVALID_HANDLE</a></td><td><code>handle</code> is not a valid handle nor <code>0</code>. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td>There was a failure in communication with the cryptoprocessor. The key material may still be present in the cryptoprocessor. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td>The storage is corrupted. Implementations shall make a best effort to erase the key material even in this stage, however applications should be aware that it may be impossible to guarantee that the key material is not recoverable in such cases. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td>An unexpected condition, which is not a storage corruption or a communication failure. The cryptoprocessor may have been compromised. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>It is implementation-dependent whether initialize results fails in this error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga93ee3c9c700505b08fc93c2136210fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93ee3c9c700505b08fc93c2136210fb7">&#9670;&nbsp;</a></span>cy_p64_psa_generate_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_generate_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *&#160;</td>
          <td class="paramname"><em>attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a key or key pair. </p>
<p>The key is generated randomly. Its location, usage policy, type and size are taken from <code>attributes</code>.</p>
<p>Implementations must reject an attempt to generate a key of size 0.</p>
<p>The following type-specific considerations apply:</p><ul>
<li>For RSA keys (<a class="el" href="group__crypto__types.html#ga5fafd70dd957c51cbf1456b6558778ff" title="RSA key pair (private and public key). ">CY_P64_PSA_KEY_TYPE_RSA_KEY_PAIR</a>), the public exponent is 65537. The modulus is a product of two probabilistic primes between 2^{n-1} and 2^n where n is the bit size specified in the attributes.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attributes</td><td>The attributes for the new key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>On success, a handle to the newly created key. <code>0</code> on failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. If the key is persistent, the key material and the key's metadata have been saved to persistent storage. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga6d39973d1c650223f9b8d631900c55d8" title="Asking for an item that already exists. ">CY_P64_PSA_ERROR_ALREADY_EXISTS</a></td><td>This is an attempt to create a persistent key, and there is already a persistent key with the given identifier. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0acb01b82422b2aef20c543f38622bf2" title="The requested operation or a parameter is not supported by this implementation. ">CY_P64_PSA_ERROR_NOT_SUPPORTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1cb05698d52a61c151eda07c94bc7111" title="There is not enough entropy to generate random data needed for the requested action. ">CY_P64_PSA_ERROR_INSUFFICIENT_ENTROPY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gacfc611f3ea71b4432dcb8b39cc3b9a45" title="There is not enough persistent storage. ">CY_P64_PSA_ERROR_INSUFFICIENT_STORAGE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>It is implementation-dependent whether initialize results fails in this error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7999832dd9a8e2be45df12dcb54e67c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7999832dd9a8e2be45df12dcb54e67c2">&#9670;&nbsp;</a></span>cy_p64_psa_import_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_import_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Imports a key in binary format. </p>
<p>This function supports any output from <a class="el" href="group__import__export.html#gaaa8a55113a8b51c8e1ce5b688eb5048b" title="Exports a key in binary format. ">cy_p64_psa_export_key()</a>. Refer to the documentation of <a class="el" href="group__import__export.html#ga0cde20348c4e078827c5e9eecc98d997" title="Export a public key or the public part of a key pair in binary format. ">cy_p64_psa_export_public_key()</a> for the format of public keys and to the documentation of <a class="el" href="group__import__export.html#gaaa8a55113a8b51c8e1ce5b688eb5048b" title="Exports a key in binary format. ">cy_p64_psa_export_key()</a> for the format for other key types.</p>
<p>The key data determines the key size. The attributes may optionally specify a key size; it must match the size determined from the key data. A key size of 0 in <code>attributes</code> indicates that the key size is solely determined by the key data.</p>
<p>Implementations must reject an attempt to import a key of size 0.</p>
<p>This specification supports a single format for each key type. Implementations may support other formats as long as the standard format is supported. Implementations that support other formats should ensure that the formats are clearly unambiguous so as to minimize the risk that an invalid input is accidentally interpreted according to a different format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attributes</td><td>The attributes for the new key. The key size is always determined from the <code>data</code> buffer. If the key size in <code>attributes</code> is nonzero, it must be equal to the size from <code>data</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>On success, a handle to the newly created key. <code>0</code> on failure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The buffer that contains the key data. The content of this buffer is interpreted according to the type declared in <code>attributes</code>. All implementations must support at least the format described in the documentation of <a class="el" href="group__import__export.html#gaaa8a55113a8b51c8e1ce5b688eb5048b" title="Exports a key in binary format. ">cy_p64_psa_export_key()</a> or <a class="el" href="group__import__export.html#ga0cde20348c4e078827c5e9eecc98d997" title="Export a public key or the public part of a key pair in binary format. ">cy_p64_psa_export_public_key()</a> for the chosen type. Implementations may allow other formats, but should be conservative: implementations should err on the side of rejecting content if it may be erroneous (e.g. wrong type or truncated data). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_length</td><td>Size of the <code>data</code> buffer in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. If the key is persistent, the key material and the key's metadata have been saved to persistent storage. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga6d39973d1c650223f9b8d631900c55d8" title="Asking for an item that already exists. ">CY_P64_PSA_ERROR_ALREADY_EXISTS</a></td><td>This is an attempt to create a persistent key, and there is already a persistent key with the given identifier. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0acb01b82422b2aef20c543f38622bf2" title="The requested operation or a parameter is not supported by this implementation. ">CY_P64_PSA_ERROR_NOT_SUPPORTED</a></td><td>The key type or key size is not supported, either by the implementation in general or in this particular persistent location. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td>The key attributes, as a whole, are invalid. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td>The key data is not correctly formatted. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td>The size in <code>attributes</code> is nonzero and does not match the size of the key data. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gacfc611f3ea71b4432dcb8b39cc3b9a45" title="There is not enough persistent storage. ">CY_P64_PSA_ERROR_INSUFFICIENT_STORAGE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>It is implementation-dependent whether initialize results fails in this error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacf498120967cfa9a4fcbcbe39921f750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf498120967cfa9a4fcbcbe39921f750">&#9670;&nbsp;</a></span>cy_p64_psa_get_key_attributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_get_key_attributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *&#160;</td>
          <td class="paramname"><em>attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the attributes of a key. </p>
<p>This function first resets the attribute structure as with cy_p64_psa_reset_key_attributes(). It then copies the attributes of the given key into the given attribute structure.</p>
<dl class="section note"><dt>Note</dt><dd>This function may allocate memory or other resources. Once you have called this function on an attribute structure, you must call cy_p64_psa_reset_key_attributes() to free these resources.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>The handle to the key to query. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">attributes</td><td>On success, the attributes of the key. On failure, equivalent to a freshly-initialized structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga179d52d2be9a5dcd9c1f3dc71f2b71a5" title="The key handle is not valid. ">CY_P64_PSA_ERROR_INVALID_HANDLE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>It is implementation-dependent whether initialize results fails in this error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaa8a55113a8b51c8e1ce5b688eb5048b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa8a55113a8b51c8e1ce5b688eb5048b">&#9670;&nbsp;</a></span>cy_p64_psa_export_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_export_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>data_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exports a key in binary format. </p>
<p>The output of this function can be passed to <a class="el" href="group__import__export.html#ga7999832dd9a8e2be45df12dcb54e67c2" title="Imports a key in binary format. ">cy_p64_psa_import_key()</a> to create an equivalent object.</p>
<p>If the implementation of <a class="el" href="group__import__export.html#ga7999832dd9a8e2be45df12dcb54e67c2" title="Imports a key in binary format. ">cy_p64_psa_import_key()</a> supports other formats beyond the format specified here, the output from <a class="el" href="group__import__export.html#gaaa8a55113a8b51c8e1ce5b688eb5048b" title="Exports a key in binary format. ">cy_p64_psa_export_key()</a> must use the representation specified here, not the original representation.</p>
<p>For standard key types, the output format is as follows:</p>
<ul>
<li>For symmetric keys (including MAC keys), the format is the raw bytes of the key.</li>
<li>For DES, the key data consists of 8 bytes. The parity bits must be correct.</li>
<li>For Triple-DES, the format is the concatenation of the two or three DES keys.</li>
<li>For RSA key pairs (<a class="el" href="group__crypto__types.html#ga5fafd70dd957c51cbf1456b6558778ff" title="RSA key pair (private and public key). ">CY_P64_PSA_KEY_TYPE_RSA_KEY_PAIR</a>), the format is the non-encrypted DER encoding of the representation defined by PKCS#1 (RFC 8017) as <code>RSAPrivateKey</code>, version 0. <div class="fragment"><div class="line">RSAPrivateKey ::= SEQUENCE {</div><div class="line">    version             INTEGER,  -- must be 0</div><div class="line">    modulus             INTEGER,  -- n</div><div class="line">    publicExponent      INTEGER,  -- e</div><div class="line">    privateExponent     INTEGER,  -- d</div><div class="line">    prime1              INTEGER,  -- p</div><div class="line">    prime2              INTEGER,  -- q</div><div class="line">    exponent1           INTEGER,  -- d mod (p-1)</div><div class="line">    exponent2           INTEGER,  -- d mod (q-1)</div><div class="line">    coefficient         INTEGER,  -- (inverse of q) mod p</div><div class="line">}</div></div><!-- fragment --></li>
<li>For elliptic curve key pairs (key types for which <a class="el" href="group__crypto__types.html#ga59c524b496741d843d5fbdfa0154657a" title="Whether a key type is an elliptic curve key pair. ">CY_P64_PSA_KEY_TYPE_IS_ECC_KEY_PAIR</a> is true), the format is a representation of the private value as a <code>ceiling(m/8)</code>-byte string where <code>m</code> is the bit size associated with the curve, i.e. the bit size of the order of the curve's coordinate field. This byte string is in little-endian order for Montgomery curves (curve types <code>PSA_ECC_FAMILY_CURVEXXX</code>), and in big-endian order for Weierstrass curves (curve types <code>PSA_ECC_FAMILY_SECTXXX</code>, <code>PSA_ECC_FAMILY_SECPXXX</code> and <code>PSA_ECC_FAMILY_BRAINPOOL_PXXX</code>). For Weierstrass curves, this is the content of the <code>privateKey</code> field of the <code>ECPrivateKey</code> format defined by RFC 5915. For Montgomery curves, the format is defined by RFC 7748, and output is masked according to sect.5.</li>
<li>For Diffie-Hellman key exchange key pairs (key types for which <a class="el" href="group__crypto__types.html#ga746ad25bb06af22bddc180dade5c43c4" title="Whether a key type is a Diffie-Hellman key pair. ">CY_P64_PSA_KEY_TYPE_IS_DH_KEY_PAIR</a> is true), the format is the representation of the private key <code>x</code> as a big-endian byte string. The length of the byte string is the private key size in bytes (leading zeroes are not stripped).</li>
<li>For public keys (key types for which <a class="el" href="group__crypto__types.html#ga0f0c5658c436bc8992eab94d490da316" title="Whether a key type is the public part of a key pair. ">CY_P64_PSA_KEY_TYPE_IS_PUBLIC_KEY</a> is true), the format is the same as for <a class="el" href="group__import__export.html#ga0cde20348c4e078827c5e9eecc98d997" title="Export a public key or the public part of a key pair in binary format. ">cy_p64_psa_export_public_key()</a>.</li>
</ul>
<p>The policy on the key must have the usage flag <a class="el" href="group__policy.html#gaf6b94183c10a2347db4be1dd243e18be" title="Whether the key may be exported. ">CY_P64_PSA_KEY_USAGE_EXPORT</a> set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">handle</td><td>The handle to the key to export. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The buffer to write the key data in. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_size</td><td>The size of the <code>data</code> buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_length</td><td>On success, the number of bytes that make up the key data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga179d52d2be9a5dcd9c1f3dc71f2b71a5" title="The key handle is not valid. ">CY_P64_PSA_ERROR_INVALID_HANDLE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga489bed3982ecce165e0524e5debb9fd0" title="The requested action is denied by a policy. ">CY_P64_PSA_ERROR_NOT_PERMITTED</a></td><td>The key does not have the <a class="el" href="group__policy.html#gaf6b94183c10a2347db4be1dd243e18be" title="Whether the key may be exported. ">CY_P64_PSA_KEY_USAGE_EXPORT</a> flag. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0acb01b82422b2aef20c543f38622bf2" title="The requested operation or a parameter is not supported by this implementation. ">CY_P64_PSA_ERROR_NOT_SUPPORTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0a9809dee3cc1aa571a472880be73201" title="The output buffer is too small. ">CY_P64_PSA_ERROR_BUFFER_TOO_SMALL</a></td><td>The size of the <code>data</code> buffer is too small. You can determine a sufficient buffer size by calling <a class="el" href="group__constants__sizes.html#gaa4376d3f334aa00f37398f4df48cde92" title="The sufficient output buffer size for psa_export_key() or psa_export_public_key(). ">CY_P64_PSA_KEY_EXPORT_MAX_SIZE</a>(<code>type</code>, <code>bits</code>) where <code>type</code> is the key type and <code>bits</code> is the key size in bits. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>It is implementation-dependent whether initialize results fails in this error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0cde20348c4e078827c5e9eecc98d997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0cde20348c4e078827c5e9eecc98d997">&#9670;&nbsp;</a></span>cy_p64_psa_export_public_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_export_public_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>data_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export a public key or the public part of a key pair in binary format. </p>
<p>The output of this function can be passed to <a class="el" href="group__import__export.html#ga7999832dd9a8e2be45df12dcb54e67c2" title="Imports a key in binary format. ">cy_p64_psa_import_key()</a> to create an object that is equivalent to the public key.</p>
<p>This specification supports a single format for each key type. Implementations may support other formats as long as the standard format is supported. Implementations that support other formats should ensure that the formats are clearly unambiguous so as to minimize the risk that an invalid input is accidentally interpreted according to a different format.</p>
<p>For standard key types, the output format is as follows:</p><ul>
<li>For RSA public keys (<a class="el" href="group__crypto__types.html#ga0b31bf19c0f047bbae09ca8f921d5e06" title="RSA public key. ">CY_P64_PSA_KEY_TYPE_RSA_PUBLIC_KEY</a>), the DER encoding of the representation defined by RFC 3279 &sect;2.3.1 as <code>RSAPublicKey</code>. <div class="fragment"><div class="line">RSAPublicKey ::= SEQUENCE {</div><div class="line">   modulus            INTEGER,    -- n</div><div class="line">   publicExponent     INTEGER  }  -- e</div></div><!-- fragment --></li>
<li>For elliptic curve public keys (key types for which <a class="el" href="group__crypto__types.html#ga78e0517006d58616ca3deaca7b811c6d" title="Whether a key type is an elliptic curve public key. ">CY_P64_PSA_KEY_TYPE_IS_ECC_PUBLIC_KEY</a> is true), the format is the uncompressed representation defined by SEC1 &sect;2.3.3 as the content of an ECPoint. Let <code>m</code> be the bit size associated with the curve, i.e. the bit size of <code>q</code> for a curve over <code>F_q</code>. The representation consists of:<ul>
<li>The byte 0x04;</li>
<li><code>x_P</code> as a <code>ceiling(m/8)</code>-byte string, big-endian;</li>
<li><code>y_P</code> as a <code>ceiling(m/8)</code>-byte string, big-endian.</li>
</ul>
</li>
<li>For Diffie-Hellman key exchange public keys (key types for which <a class="el" href="group__crypto__types.html#ga73421eb8f4933cc4927b15aff656eac0" title="Whether a key type is a Diffie-Hellman public key. ">CY_P64_PSA_KEY_TYPE_IS_DH_PUBLIC_KEY</a> is true), the format is the representation of the public key <code>y = g^x mod p</code> as a big-endian byte string. The length of the byte string is the length of the base prime <code>p</code> in bytes.</li>
</ul>
<p>Exporting a public key object or the public part of a key pair is always permitted, regardless of the key's usage flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">handle</td><td>The handle to the key to export. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The buffer to write the key data in. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_size</td><td>The size of the <code>data</code> buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_length</td><td>On success, the number of bytes that make up the key data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga179d52d2be9a5dcd9c1f3dc71f2b71a5" title="The key handle is not valid. ">CY_P64_PSA_ERROR_INVALID_HANDLE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td>The key is neither a public key nor a key pair. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0acb01b82422b2aef20c543f38622bf2" title="The requested operation or a parameter is not supported by this implementation. ">CY_P64_PSA_ERROR_NOT_SUPPORTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0a9809dee3cc1aa571a472880be73201" title="The output buffer is too small. ">CY_P64_PSA_ERROR_BUFFER_TOO_SMALL</a></td><td>The size of the <code>data</code> buffer is too small. You can determine a sufficient buffer size by calling <a class="el" href="group__constants__sizes.html#gaa4376d3f334aa00f37398f4df48cde92" title="The sufficient output buffer size for psa_export_key() or psa_export_public_key(). ">CY_P64_PSA_KEY_EXPORT_MAX_SIZE</a>(<a class="el" href="group__crypto__types.html#ga3152437ba49f0a9a4b086c7135f21daf" title="The public key type corresponding to a key pair type. ">CY_P64_PSA_KEY_TYPE_PUBLIC_KEY_OF_KEY_PAIR</a>(<code>type</code>), <code>bits</code>) where <code>type</code> is the key type and <code>bits</code> is the key size in bits. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>It is implementation-dependent whether initialize results fails in this error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga29388a8ff941feda63570759ee7b9ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29388a8ff941feda63570759ee7b9ccd">&#9670;&nbsp;</a></span>cy_p64_keys_load_key_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_keys_load_key_handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a>&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function loads key handle from the Secure FlashBoot key storage. </p>
<p>Keys in slot range from 1 to <a class="el" href="group__syscalls__macros.html#ga03ec1b7a824de402987e2b248b8ef4b1" title="The number of keys used by SFB PSA Crypto. ">CY_P64_KEY_SLOT_STATIC_MAX</a> are initialized during boot by SFB. They are protected from modification by SFB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key_id</td><td>The slot number in SFB key storage. Reserved keys are defined by CY_P64_KEY_SLOT_XXX define. Maximum value - <a class="el" href="group__import__export.html#ga591003c8cb25a205c84f2bca90f2fb5a" title="This function returns the maximum amount of keys supported by Secure FlashBoot. ">cy_p64_keys_get_count()</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>Returned key handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga530617dd510f318835f43bab00e9cf46" title="Asking for an item that doesn&#39;t exist. ">CY_P64_PSA_ERROR_DOES_NOT_EXIST</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__syscall__macros.html#gac27fb1eaac373d27c1af00bbbe70345d" title="Returned by all APIs when client doesn&#39;t have access to region it is using for passing arguments...">CY_P64_INVALID_ADDR_PROTECTED</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab40e50b421908c113ba08e843d63ace5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab40e50b421908c113ba08e843d63ace5">&#9670;&nbsp;</a></span>cy_p64_keys_store_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_keys_store_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a>&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stores a new key handle for the key slot. </p>
<p>If the slot was not empty the function first destroys existing key. Keys in slot range from 1 to <a class="el" href="group__syscalls__macros.html#ga03ec1b7a824de402987e2b248b8ef4b1" title="The number of keys used by SFB PSA Crypto. ">CY_P64_KEY_SLOT_STATIC_MAX</a> are initialized during boot by SFB. They are protected from modification by SFB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key_id</td><td>The slot number in SFB key storage. Minimum value - <a class="el" href="group__syscalls__macros.html#ga03ec1b7a824de402987e2b248b8ef4b1" title="The number of keys used by SFB PSA Crypto. ">CY_P64_KEY_SLOT_STATIC_MAX</a> + 1. Maximum value - <a class="el" href="group__import__export.html#ga591003c8cb25a205c84f2bca90f2fb5a" title="This function returns the maximum amount of keys supported by Secure FlashBoot. ">cy_p64_keys_get_count()</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>Key handle to store.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga530617dd510f318835f43bab00e9cf46" title="Asking for an item that doesn&#39;t exist. ">CY_P64_PSA_ERROR_DOES_NOT_EXIST</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaefff2832453c9a06b04b13af45b0d665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaefff2832453c9a06b04b13af45b0d665">&#9670;&nbsp;</a></span>cy_p64_keys_close_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_keys_close_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga5078048b65cbe5cb22b8cc725f048a57">cy_p64_key_slot_t</a>&#160;</td>
          <td class="paramname"><em>key_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function destroys the key handle stored in key_id slot and clears handle from Secure FlashBoot key storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key_id</td><td>The slot number in SFB key storage. Minimum value - <a class="el" href="group__syscalls__macros.html#ga03ec1b7a824de402987e2b248b8ef4b1" title="The number of keys used by SFB PSA Crypto. ">CY_P64_KEY_SLOT_STATIC_MAX</a> + 1. Maximum value - <a class="el" href="group__import__export.html#ga591003c8cb25a205c84f2bca90f2fb5a" title="This function returns the maximum amount of keys supported by Secure FlashBoot. ">cy_p64_keys_get_count()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga530617dd510f318835f43bab00e9cf46" title="Asking for an item that doesn&#39;t exist. ">CY_P64_PSA_ERROR_DOES_NOT_EXIST</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga591003c8cb25a205c84f2bca90f2fb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga591003c8cb25a205c84f2bca90f2fb5a">&#9670;&nbsp;</a></span>cy_p64_keys_get_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cy_p64_keys_get_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the maximum amount of keys supported by Secure FlashBoot. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Maximum</td><td>key count. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>PSoC64 Secure Boot Utilities Middleware Library 1.0</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
