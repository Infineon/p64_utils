<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSoC64 Secure Boot Utilities Middleware Library 1.0: Key derivation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="IFXCYP_one-line.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSoC64 Secure Boot Utilities Middleware Library 1.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__key__derivation.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Key derivation<div class="ingroups"><a class="el" href="group__psacrypto.html">PSA crypto</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga4f24bea5a6eaef7569fb606909c2de6a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga4f24bea5a6eaef7569fb606909c2de6a">CY_P64_PSA_KEY_DERIVATION_OPERATION_INIT</a>&#160;&#160;&#160;{0}</td></tr>
<tr class="memdesc:ga4f24bea5a6eaef7569fb606909c2de6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This only zeroes out the first byte in the union, the rest is unspecified.  <a href="#ga4f24bea5a6eaef7569fb606909c2de6a">More...</a><br /></td></tr>
<tr class="separator:ga4f24bea5a6eaef7569fb606909c2de6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f5d5510f5f392b555ddd69d4774b37d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga9f5d5510f5f392b555ddd69d4774b37d">CY_P64_PSA_KEY_DERIVATION_INPUT_SECRET</a>&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0101)</td></tr>
<tr class="memdesc:ga9f5d5510f5f392b555ddd69d4774b37d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A secret input for key derivation.  <a href="#ga9f5d5510f5f392b555ddd69d4774b37d">More...</a><br /></td></tr>
<tr class="separator:ga9f5d5510f5f392b555ddd69d4774b37d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa708b6e9469803afd55804ba1ea5945f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#gaa708b6e9469803afd55804ba1ea5945f">CY_P64_PSA_KEY_DERIVATION_INPUT_LABEL</a>&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0201)</td></tr>
<tr class="memdesc:gaa708b6e9469803afd55804ba1ea5945f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A label for key derivation.  <a href="#gaa708b6e9469803afd55804ba1ea5945f">More...</a><br /></td></tr>
<tr class="separator:gaa708b6e9469803afd55804ba1ea5945f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bb716e478f0b05db04cd971122bb46d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga4bb716e478f0b05db04cd971122bb46d">CY_P64_PSA_KEY_DERIVATION_INPUT_SALT</a>&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0202)</td></tr>
<tr class="memdesc:ga4bb716e478f0b05db04cd971122bb46d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A salt for key derivation.  <a href="#ga4bb716e478f0b05db04cd971122bb46d">More...</a><br /></td></tr>
<tr class="separator:ga4bb716e478f0b05db04cd971122bb46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58f91a985bdffbc50d4355d7bb79f614"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga58f91a985bdffbc50d4355d7bb79f614">CY_P64_PSA_KEY_DERIVATION_INPUT_INFO</a>&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0203)</td></tr>
<tr class="memdesc:ga58f91a985bdffbc50d4355d7bb79f614"><td class="mdescLeft">&#160;</td><td class="mdescRight">An information string for key derivation.  <a href="#ga58f91a985bdffbc50d4355d7bb79f614">More...</a><br /></td></tr>
<tr class="separator:ga58f91a985bdffbc50d4355d7bb79f614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a369b3df827ddcb495438505477d2c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga5a369b3df827ddcb495438505477d2c4">CY_P64_PSA_KEY_DERIVATION_INPUT_SEED</a>&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0204)</td></tr>
<tr class="memdesc:ga5a369b3df827ddcb495438505477d2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A seed for key derivation.  <a href="#ga5a369b3df827ddcb495438505477d2c4">More...</a><br /></td></tr>
<tr class="separator:ga5a369b3df827ddcb495438505477d2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga679b0130be3b472c0743b9665a1fb18e"><td class="memItemLeft" align="right" valign="top">typedef struct cy_p64_psa_key_derivation_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a></td></tr>
<tr class="memdesc:ga679b0130be3b472c0743b9665a1fb18e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the state data structure for key derivation operations.  <a href="#ga679b0130be3b472c0743b9665a1fb18e">More...</a><br /></td></tr>
<tr class="separator:ga679b0130be3b472c0743b9665a1fb18e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddaa70ccbbb5b188feae415a4073fdc1"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a></td></tr>
<tr class="memdesc:gaddaa70ccbbb5b188feae415a4073fdc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoding of the step of a key derivation.  <a href="#gaddaa70ccbbb5b188feae415a4073fdc1">More...</a><br /></td></tr>
<tr class="separator:gaddaa70ccbbb5b188feae415a4073fdc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf50fd0766ac36d587e4dfbfa8ad1368e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e">cy_p64_psa_key_derivation_abort</a> (<a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *operation)</td></tr>
<tr class="memdesc:gaf50fd0766ac36d587e4dfbfa8ad1368e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts a key derivation operation.  <a href="#gaf50fd0766ac36d587e4dfbfa8ad1368e">More...</a><br /></td></tr>
<tr class="separator:gaf50fd0766ac36d587e4dfbfa8ad1368e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8d956ccb847b77a6dde7a3ba5ddb4e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#gae8d956ccb847b77a6dde7a3ba5ddb4e0">cy_p64_psa_key_derivation_setup</a> (<a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *operation, <a class="el" href="group__crypto__types.html#gaacbbf49e9343ccc308acc8142183418d">cy_p64_psa_algorithm_t</a> alg)</td></tr>
<tr class="memdesc:gae8d956ccb847b77a6dde7a3ba5ddb4e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up a key derivation operation.  <a href="#gae8d956ccb847b77a6dde7a3ba5ddb4e0">More...</a><br /></td></tr>
<tr class="separator:gae8d956ccb847b77a6dde7a3ba5ddb4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d77dcbb9f59d62fa05b70a592bbee7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga7d77dcbb9f59d62fa05b70a592bbee7c">cy_p64_psa_key_derivation_inp_key</a> (<a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *operation, <a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a> step, <a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> handle)</td></tr>
<tr class="memdesc:ga7d77dcbb9f59d62fa05b70a592bbee7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides an input for key derivation in the form of a key.  <a href="#ga7d77dcbb9f59d62fa05b70a592bbee7c">More...</a><br /></td></tr>
<tr class="separator:ga7d77dcbb9f59d62fa05b70a592bbee7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa831671e99ffc648018eeb858f5d557"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#gaaa831671e99ffc648018eeb858f5d557">cy_p64_psa_key_derivation_inp_bytes</a> (<a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *operation, <a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a> step, const uint8_t *data, size_t data_length)</td></tr>
<tr class="memdesc:gaaa831671e99ffc648018eeb858f5d557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides an input for key derivation or key agreement.  <a href="#gaaa831671e99ffc648018eeb858f5d557">More...</a><br /></td></tr>
<tr class="separator:gaaa831671e99ffc648018eeb858f5d557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac39e5d498be180058920c66191152381"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#gac39e5d498be180058920c66191152381">cy_p64_psa_key_derivation_key_agreement</a> (<a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *operation, <a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a> step, <a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> private_key, const uint8_t *peer_key, size_t peer_key_length)</td></tr>
<tr class="memdesc:gac39e5d498be180058920c66191152381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a key agreement and use the shared secret as input to a key derivation.  <a href="#gac39e5d498be180058920c66191152381">More...</a><br /></td></tr>
<tr class="separator:gac39e5d498be180058920c66191152381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba33a8a60f5036c08b70793bf9f9ad39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#gaba33a8a60f5036c08b70793bf9f9ad39">cy_p64_psa_key_derivation_out_bytes</a> (<a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *operation, uint8_t *output, size_t output_length)</td></tr>
<tr class="memdesc:gaba33a8a60f5036c08b70793bf9f9ad39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads some data from a key derivation operation.  <a href="#gaba33a8a60f5036c08b70793bf9f9ad39">More...</a><br /></td></tr>
<tr class="separator:gaba33a8a60f5036c08b70793bf9f9ad39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31c573379fb296ac44b6b86a5b828534"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__key__derivation.html#ga31c573379fb296ac44b6b86a5b828534">cy_p64_psa_key_derivation_out_key</a> (const <a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *attributes, <a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *operation, <a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *handle)</td></tr>
<tr class="memdesc:ga31c573379fb296ac44b6b86a5b828534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derives a key from an ongoing key derivation operation.  <a href="#ga31c573379fb296ac44b6b86a5b828534">More...</a><br /></td></tr>
<tr class="separator:ga31c573379fb296ac44b6b86a5b828534"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga4f24bea5a6eaef7569fb606909c2de6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f24bea5a6eaef7569fb606909c2de6a">&#9670;&nbsp;</a></span>CY_P64_PSA_KEY_DERIVATION_OPERATION_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY_P64_PSA_KEY_DERIVATION_OPERATION_INIT&#160;&#160;&#160;{0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This only zeroes out the first byte in the union, the rest is unspecified. </p>

</div>
</div>
<a id="ga9f5d5510f5f392b555ddd69d4774b37d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f5d5510f5f392b555ddd69d4774b37d">&#9670;&nbsp;</a></span>CY_P64_PSA_KEY_DERIVATION_INPUT_SECRET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY_P64_PSA_KEY_DERIVATION_INPUT_SECRET&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0101)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A secret input for key derivation. </p>
<p>This should be a key of type <a class="el" href="group__crypto__types.html#ga8250f4c4e5efe8551a50f9e55bcbd1c1" title="A secret for key derivation. ">CY_P64_PSA_KEY_TYPE_DERIVE</a> (passed to psa_key_derivation_input_key()) or the shared secret resulting from a key agreement (obtained via psa_key_derivation_key_agreement()).</p>
<p>The secret can also be a direct input (passed to key_derivation_input_bytes()). In this case, the derivation operation may not be used to derive keys: the operation will only allow psa_key_derivation_output_bytes(), not psa_key_derivation_output_key(). </p>

</div>
</div>
<a id="gaa708b6e9469803afd55804ba1ea5945f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa708b6e9469803afd55804ba1ea5945f">&#9670;&nbsp;</a></span>CY_P64_PSA_KEY_DERIVATION_INPUT_LABEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY_P64_PSA_KEY_DERIVATION_INPUT_LABEL&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0201)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A label for key derivation. </p>
<p>This should be a direct input. It can also be a key of type <a class="el" href="group__crypto__types.html#ga33761947021e8aa184ef050e051898fa" title="Raw data. ">CY_P64_PSA_KEY_TYPE_RAW_DATA</a>. </p>

</div>
</div>
<a id="ga4bb716e478f0b05db04cd971122bb46d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4bb716e478f0b05db04cd971122bb46d">&#9670;&nbsp;</a></span>CY_P64_PSA_KEY_DERIVATION_INPUT_SALT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY_P64_PSA_KEY_DERIVATION_INPUT_SALT&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0202)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A salt for key derivation. </p>
<p>This should be a direct input. It can also be a key of type <a class="el" href="group__crypto__types.html#ga33761947021e8aa184ef050e051898fa" title="Raw data. ">CY_P64_PSA_KEY_TYPE_RAW_DATA</a>. </p>

</div>
</div>
<a id="ga58f91a985bdffbc50d4355d7bb79f614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58f91a985bdffbc50d4355d7bb79f614">&#9670;&nbsp;</a></span>CY_P64_PSA_KEY_DERIVATION_INPUT_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY_P64_PSA_KEY_DERIVATION_INPUT_INFO&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0203)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An information string for key derivation. </p>
<p>This should be a direct input. It can also be a key of type <a class="el" href="group__crypto__types.html#ga33761947021e8aa184ef050e051898fa" title="Raw data. ">CY_P64_PSA_KEY_TYPE_RAW_DATA</a>. </p>

</div>
</div>
<a id="ga5a369b3df827ddcb495438505477d2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a369b3df827ddcb495438505477d2c4">&#9670;&nbsp;</a></span>CY_P64_PSA_KEY_DERIVATION_INPUT_SEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY_P64_PSA_KEY_DERIVATION_INPUT_SEED&#160;&#160;&#160;((<a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>)0x0204)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A seed for key derivation. </p>
<p>This should be a direct input. It can also be a key of type <a class="el" href="group__crypto__types.html#ga33761947021e8aa184ef050e051898fa" title="Raw data. ">CY_P64_PSA_KEY_TYPE_RAW_DATA</a>. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga679b0130be3b472c0743b9665a1fb18e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga679b0130be3b472c0743b9665a1fb18e">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_operation_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct cy_p64_psa_key_derivation_s <a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The type of the state data structure for key derivation operations. </p>
<p>Before calling any function on a key derivation operation object, the application must initialize it by any of the following means:</p><ul>
<li>Set the structure to all-bits-zero, for example: <div class="fragment"><div class="line"><a class="code" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> operation;</div><div class="line">memset(&amp;operation, 0, <span class="keyword">sizeof</span>(operation));</div></div><!-- fragment --></li>
<li>Initialize the structure to logical zero values, for example: <div class="fragment"><div class="line"><a class="code" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> operation = {0};</div></div><!-- fragment --></li>
<li>Initialize the structure to the initializer <a class="el" href="group__key__derivation.html#ga4f24bea5a6eaef7569fb606909c2de6a" title="This only zeroes out the first byte in the union, the rest is unspecified. ">CY_P64_PSA_KEY_DERIVATION_OPERATION_INIT</a>, for example: <div class="fragment"><div class="line"><a class="code" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> operation = <a class="code" href="group__key__derivation.html#ga4f24bea5a6eaef7569fb606909c2de6a">CY_P64_PSA_KEY_DERIVATION_OPERATION_INIT</a>;</div></div><!-- fragment --></li>
<li>Assign the result of the function cy_p64_psa_key_derivation_operation_init() to the structure, for example: <div class="fragment"><div class="line"><a class="code" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> operation;</div><div class="line">operation = cy_p64_psa_key_derivation_operation_init();</div></div><!-- fragment --></li>
</ul>
<p>This is an implementation-defined <code>struct</code>. Applications should not make any assumptions about the content of this structure except as directed by the documentation of a specific implementation. </p>

</div>
</div>
<a id="gaddaa70ccbbb5b188feae415a4073fdc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaddaa70ccbbb5b188feae415a4073fdc1">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_step_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoding of the step of a key derivation. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf50fd0766ac36d587e4dfbfa8ad1368e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf50fd0766ac36d587e4dfbfa8ad1368e">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_key_derivation_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts a key derivation operation. </p>
<p>Aborting an operation frees all associated resources except for the <code>operation</code> structure itself. Once aborted, the operation object can be reused for another operation by calling <a class="el" href="group__key__derivation.html#gae8d956ccb847b77a6dde7a3ba5ddb4e0" title="Sets up a key derivation operation. ">cy_p64_psa_key_derivation_setup()</a> again.</p>
<p>This function may be called at any time after the operation object has been initialized as described in <a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e" title="The type of the state data structure for key derivation operations. ">cy_p64_psa_key_derivation_operation_t</a>.</p>
<p>In particular, it is valid to call <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a> twice, or to call <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a> on an operation that has not been set up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">operation</td><td>The operation to abort.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>It is implementation-dependent whether initialize results fails in this error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae8d956ccb847b77a6dde7a3ba5ddb4e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae8d956ccb847b77a6dde7a3ba5ddb4e0">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_key_derivation_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__crypto__types.html#gaacbbf49e9343ccc308acc8142183418d">cy_p64_psa_algorithm_t</a>&#160;</td>
          <td class="paramname"><em>alg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up a key derivation operation. </p>
<p>A key derivation algorithm takes some inputs and uses them to generate a byte stream in a deterministic way. This byte stream can be used to produce keys and other cryptographic material.</p>
<p>To derive a key:</p><ol type="1">
<li>Start with an initialized object of type <a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e" title="The type of the state data structure for key derivation operations. ">cy_p64_psa_key_derivation_operation_t</a>.</li>
<li>Call <a class="el" href="group__key__derivation.html#gae8d956ccb847b77a6dde7a3ba5ddb4e0" title="Sets up a key derivation operation. ">cy_p64_psa_key_derivation_setup()</a> to select the algorithm.</li>
<li>Provide the inputs for the key derivation by calling CY_P64_PSA_key_derivation_inp_bytes() or cy_p64_psa_key_derivation_input_key() as appropriate. Which inputs are needed, in what order, and whether they may be keys and if so of what type depends on the algorithm.</li>
<li>Optionally set the operation's maximum capacity with cy_p64_psa_key_derivation_set_capacity(). You may do this before, in the middle of or after providing inputs. For some algorithms, this step is mandatory because the output depends on the maximum capacity.</li>
<li>To derive a key, call cy_p64_psa_key_derivation_output_key(). To derive a byte string for a different purpose, call <a class="el" href="group__key__derivation.html#gaba33a8a60f5036c08b70793bf9f9ad39" title="Reads some data from a key derivation operation. ">cy_p64_psa_key_derivation_out_bytes()</a>. Successive calls to these functions use successive output bytes calculated by the key derivation algorithm.</li>
<li>Clean up the key derivation operation object with <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a>.</li>
</ol>
<p>If this function returns an error, the key derivation operation object is not changed.</p>
<p>If an error occurs at any step after a call to <a class="el" href="group__key__derivation.html#gae8d956ccb847b77a6dde7a3ba5ddb4e0" title="Sets up a key derivation operation. ">cy_p64_psa_key_derivation_setup()</a>, the operation will need to be reset by a call to <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a>.</p>
<p>Implementations must reject an attempt to derive a key of size 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">operation</td><td>The key derivation operation object to set up. It must have been initialized but not set up yet. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">alg</td><td>The key derivation algorithm to compute (<code>CY_P64_PSA_ALG_XXX</code> value such that <a class="el" href="group__crypto__types.html#gac52c391fd3e6d853a740ae1e82a98b9c" title="Whether the specified algorithm is a key derivation algorithm. ">CY_P64_PSA_ALG_IS_KEY_DERIVATION</a>(<code>alg</code>) is true).</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>alg</code> is not a key derivation algorithm. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0acb01b82422b2aef20c543f38622bf2" title="The requested operation or a parameter is not supported by this implementation. ">CY_P64_PSA_ERROR_NOT_SUPPORTED</a></td><td><code>alg</code> is not supported or is not a key derivation algorithm. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>The operation state is not valid (it must be inactive). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7d77dcbb9f59d62fa05b70a592bbee7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d77dcbb9f59d62fa05b70a592bbee7c">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_inp_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_key_derivation_inp_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides an input for key derivation in the form of a key. </p>
<p>Which inputs are required and in what order depends on the algorithm. Refer to the documentation of each key derivation or key agreement algorithm for information.</p>
<p>This function obtains input from a key object, which is usually correct for secret inputs or for non-secret personalization strings kept in the key store. To pass a non-secret parameter which is not in the key store, call CY_P64_PSA_key_derivation_inp_bytes() instead of this function. Refer to the documentation of individual step types (<code>PSA_KEY_DERIVATION_INPUT_xxx</code> values of type <a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1" title="Encoding of the step of a key derivation. ">cy_p64_psa_key_derivation_step_t</a>) for more information.</p>
<p>If this function returns an error status, the operation enters an error state and must be aborted by calling <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">operation</td><td>The key derivation operation object to use. It must have been set up with <a class="el" href="group__key__derivation.html#gae8d956ccb847b77a6dde7a3ba5ddb4e0" title="Sets up a key derivation operation. ">cy_p64_psa_key_derivation_setup()</a> and must not have produced any output yet. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">step</td><td>Which step the input data is for. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">handle</td><td>Handle to the key. It must have an appropriate type for <code>step</code> and must allow the usage <a class="el" href="group__policy.html#gacbda32b7393a9b4e800117522dbfcea1" title="Whether the key may be used to derive other keys. ">CY_P64_PSA_KEY_USAGE_DERIVE</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga179d52d2be9a5dcd9c1f3dc71f2b71a5" title="The key handle is not valid. ">CY_P64_PSA_ERROR_INVALID_HANDLE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga489bed3982ecce165e0524e5debb9fd0" title="The requested action is denied by a policy. ">CY_P64_PSA_ERROR_NOT_PERMITTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>step</code> is not compatible with the operation's algorithm. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>step</code> does not allow key inputs of the given type or does not allow key inputs at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>The operation state is not valid for this input <code>step</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaa831671e99ffc648018eeb858f5d557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa831671e99ffc648018eeb858f5d557">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_inp_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_key_derivation_inp_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides an input for key derivation or key agreement. </p>
<p>Which inputs are required and in what order depends on the algorithm. Refer to the documentation of each key derivation or key agreement algorithm for information.</p>
<p>This function passes direct inputs, which is usually correct for non-secret inputs. To pass a secret input, which should be in a key object, call cy_p64_psa_key_derivation_input_key() instead of this function. Refer to the documentation of individual step types (<code>CY_P64_PSA_KEY_DERIVATION_INPUT_xxx</code> values of type <a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1" title="Encoding of the step of a key derivation. ">cy_p64_psa_key_derivation_step_t</a>) for more information.</p>
<p>If this function returns an error status, the operation enters an error state and must be aborted by calling <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">operation</td><td>The key derivation operation object to use. It must have been set up with <a class="el" href="group__key__derivation.html#gae8d956ccb847b77a6dde7a3ba5ddb4e0" title="Sets up a key derivation operation. ">cy_p64_psa_key_derivation_setup()</a> and must not have produced any output yet. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">step</td><td>Which step the input data is for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Input data to use. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_length</td><td>Size of the <code>data</code> buffer in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>step</code> is not compatible with the operation's algorithm. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>step</code> does not allow direct inputs. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>The operation state is not valid for this input <code>step</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac39e5d498be180058920c66191152381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac39e5d498be180058920c66191152381">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_key_agreement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_key_derivation_key_agreement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#gaddaa70ccbbb5b188feae415a4073fdc1">cy_p64_psa_key_derivation_step_t</a>&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a>&#160;</td>
          <td class="paramname"><em>private_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>peer_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>peer_key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a key agreement and use the shared secret as input to a key derivation. </p>
<p>A key agreement algorithm takes two inputs: a private key <code>private_key</code> a public key <code>peer_key</code>. The result of this function is passed as input to a key derivation. The output of this key derivation can be extracted by reading from the resulting operation to produce keys and other cryptographic material.</p>
<p>If this function returns an error status, the operation enters an error state and must be aborted by calling <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">operation</td><td>The key derivation operation object to use. It must have been set up with <a class="el" href="group__key__derivation.html#gae8d956ccb847b77a6dde7a3ba5ddb4e0" title="Sets up a key derivation operation. ">cy_p64_psa_key_derivation_setup()</a> with a key agreement and derivation algorithm <code>alg</code> (<code>CY_P64_PSA_ALG_XXX</code> value such that <a class="el" href="group__crypto__types.html#gaa4fa9ecd2d9f12e0c9bfc72c01e3294d" title="Whether the specified algorithm is a key agreement algorithm. ">CY_P64_PSA_ALG_IS_KEY_AGREEMENT</a>(<code>alg</code>) is true and <a class="el" href="group__crypto__types.html#ga545debc3591ab12e0a91addb663a68f5" title="Whether the specified algorithm is a raw key agreement algorithm. ">CY_P64_PSA_ALG_IS_RAW_KEY_AGREEMENT</a>(<code>alg</code>) is false). The operation must be ready for an input of the type given by <code>step</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">step</td><td>Which step the input data is for. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">private_key</td><td>Handle to the private key to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">peer_key</td><td>The public key of the peer. The peer key must be in the same format that <a class="el" href="group__import__export.html#ga7999832dd9a8e2be45df12dcb54e67c2" title="Imports a key in binary format. ">cy_p64_psa_import_key()</a> accepts for the public key type corresponding to the type of private_key. That is, this function performs the equivalent of <a class="el" href="group__import__export.html#ga7999832dd9a8e2be45df12dcb54e67c2" title="Imports a key in binary format. ">cy_p64_psa_import_key</a>(..., <code>peer_key</code>, <code>peer_key_length</code>) where with key attributes indicating the public key type corresponding to the type of <code>private_key</code>. For example, for EC keys, this means that peer_key is interpreted as a point on the curve that the private key is on. The standard formats for public keys are documented in the documentation of <a class="el" href="group__import__export.html#ga0cde20348c4e078827c5e9eecc98d997" title="Export a public key or the public part of a key pair in binary format. ">cy_p64_psa_export_public_key()</a>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">peer_key_length</td><td>Size of <code>peer_key</code> in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>The operation state is not valid for this key agreement <code>step</code>. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga179d52d2be9a5dcd9c1f3dc71f2b71a5" title="The key handle is not valid. ">CY_P64_PSA_ERROR_INVALID_HANDLE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga489bed3982ecce165e0524e5debb9fd0" title="The requested action is denied by a policy. ">CY_P64_PSA_ERROR_NOT_PERMITTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>private_key</code> is not compatible with <code>alg</code>, or <code>peer_key</code> is not valid for <code>alg</code> or not compatible with <code>private_key</code>. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0acb01b82422b2aef20c543f38622bf2" title="The requested operation or a parameter is not supported by this implementation. ">CY_P64_PSA_ERROR_NOT_SUPPORTED</a></td><td><code>alg</code> is not supported or is not a key derivation algorithm. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>step</code> does not allow an input resulting from a key agreement. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaba33a8a60f5036c08b70793bf9f9ad39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba33a8a60f5036c08b70793bf9f9ad39">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_out_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_key_derivation_out_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>output_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads some data from a key derivation operation. </p>
<p>This function calculates output bytes from a key derivation algorithm and return those bytes. If you view the key derivation's output as a stream of bytes, this function destructively reads the requested number of bytes from the stream. The operation's capacity decreases by the number of bytes read.</p>
<p>If this function returns an error status other than <a class="el" href="group__psacrypto__error.html#ga6e37a5bc14d34060b0be8fce31ce7d4a" title="Return this error when there&#39;s insufficient data when attempting to read from a resource. ">CY_P64_PSA_ERROR_INSUFFICIENT_DATA</a>, the operation enters an error state and must be aborted by calling <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">operation</td><td>The key derivation operation object to read from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Buffer where the output will be written. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">output_length</td><td>Number of bytes to output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga6e37a5bc14d34060b0be8fce31ce7d4a" title="Return this error when there&#39;s insufficient data when attempting to read from a resource. ">CY_P64_PSA_ERROR_INSUFFICIENT_DATA</a></td><td>The operation's capacity was less than <code>output_length</code> bytes. Note that in this case, no output is written to the output buffer. The operation's capacity is set to 0, thus subsequent calls to this function will not succeed, even with a smaller output buffer. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>The operation state is not valid (it must be active and completed all required input steps). </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga31c573379fb296ac44b6b86a5b828534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31c573379fb296ac44b6b86a5b828534">&#9670;&nbsp;</a></span>cy_p64_psa_key_derivation_out_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psacrypto__error.html#gae79cfe5e478f111f9f93e5d7e69d5e2a">cy_p64_psa_status_t</a> cy_p64_psa_key_derivation_out_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__attributes.html#gaff1087b4ae5d43a3a7aa9a5ea0c27015">cy_p64_psa_key_attributes_t</a> *&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__key__derivation.html#ga679b0130be3b472c0743b9665a1fb18e">cy_p64_psa_key_derivation_operation_t</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__import__export.html#ga9ab16c7405b7975390450a98240611d2">cy_p64_psa_key_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derives a key from an ongoing key derivation operation. </p>
<p>This function calculates output bytes from a key derivation algorithm and uses those bytes to generate a key deterministically. The key's location, usage policy, type and size are taken from <code>attributes</code>.</p>
<p>If you view the key derivation's output as a stream of bytes, this function destructively reads as many bytes as required from the stream. The operation's capacity decreases by the number of bytes read.</p>
<p>If this function returns an error status other than <a class="el" href="group__psacrypto__error.html#ga6e37a5bc14d34060b0be8fce31ce7d4a" title="Return this error when there&#39;s insufficient data when attempting to read from a resource. ">CY_P64_PSA_ERROR_INSUFFICIENT_DATA</a>, the operation enters an error state and must be aborted by calling <a class="el" href="group__key__derivation.html#gaf50fd0766ac36d587e4dfbfa8ad1368e" title="Aborts a key derivation operation. ">cy_p64_psa_key_derivation_abort()</a>.</p>
<p>How much output is produced and consumed from the operation, and how the key is derived, depends on the key type:</p>
<ul>
<li>For key types for which the key is an arbitrary sequence of bytes of a given size, this function is functionally equivalent to calling <a class="el" href="group__key__derivation.html#gaba33a8a60f5036c08b70793bf9f9ad39" title="Reads some data from a key derivation operation. ">cy_p64_psa_key_derivation_out_bytes</a> and passing the resulting output to <a class="el" href="group__import__export.html#ga7999832dd9a8e2be45df12dcb54e67c2" title="Imports a key in binary format. ">cy_p64_psa_import_key</a>. However, this function has a security benefit: if the implementation provides an isolation boundary then the key material is not exposed outside the isolation boundary. As a consequence, for these key types, this function always consumes exactly (<code>bits</code> / 8) bytes from the operation. The following key types defined in this specification follow this scheme:<ul>
<li><a class="el" href="group__crypto__types.html#gaed9fc8c476fef9b1bc3ec7764ac94267" title="A key for a cipher, AEAD or MAC algorithm based on the AES block cipher. ">CY_P64_PSA_KEY_TYPE_AES</a>;</li>
<li><a class="el" href="group__crypto__types.html#gac52a4e4f4928d2f011cbef94ff1ccc02" title="A key for the RC4 stream cipher. ">CY_P64_PSA_KEY_TYPE_ARC4</a>;</li>
<li><a class="el" href="group__crypto__types.html#gaa8a52c0f39c7e04607d7ca864cda677a" title="A key for a cipher, AEAD or MAC algorithm based on the Camellia block cipher. ">CY_P64_PSA_KEY_TYPE_CAMELLIA</a>;</li>
<li><a class="el" href="group__crypto__types.html#ga8250f4c4e5efe8551a50f9e55bcbd1c1" title="A secret for key derivation. ">CY_P64_PSA_KEY_TYPE_DERIVE</a>;</li>
<li><a class="el" href="group__crypto__types.html#gace63a9c1dcf8af539a68d398f3ecd34e" title="HMAC key. ">CY_P64_PSA_KEY_TYPE_HMAC</a>.</li>
</ul>
</li>
<li>For ECC keys on a Montgomery elliptic curve (<a class="el" href="group__crypto__types.html#gab703112f332854a9cbc855d6e1fb8778" title="Elliptic curve key pair. ">CY_P64_PSA_KEY_TYPE_ECC_KEY_PAIR</a>(<code>curve</code>) where <code>curve</code> designates a Montgomery curve), this function always draws a byte string whose length is determined by the curve, and sets the mandatory bits accordingly. That is:<ul>
<li>Curve25519 (<a class="el" href="group__crypto__types.html#ga5478499739163942e5e3b76fc30b21da" title="Curve25519 and Curve448. ">CY_P64_PSA_ECC_FAMILY_MONTGOMERY</a>, 255 bits): draw a 32-byte string and process it as specified in RFC 7748 &sect;5.</li>
<li>Curve448 (<a class="el" href="group__crypto__types.html#ga5478499739163942e5e3b76fc30b21da" title="Curve25519 and Curve448. ">CY_P64_PSA_ECC_FAMILY_MONTGOMERY</a>, 448 bits): draw a 56-byte string and process it as specified in RFC 7748 &sect;5.</li>
</ul>
</li>
<li>For key types for which the key is represented by a single sequence of <code>bits</code> bits with constraints as to which bit sequences are acceptable, this function draws a byte string of length (<code>bits</code> / 8) bytes rounded up to the nearest whole number of bytes. If the resulting byte string is acceptable, it becomes the key, otherwise the drawn bytes are discarded. This process is repeated until an acceptable byte string is drawn. The byte string drawn from the operation is interpreted as specified for the output produced by <a class="el" href="group__import__export.html#gaaa8a55113a8b51c8e1ce5b688eb5048b" title="Exports a key in binary format. ">cy_p64_psa_export_key()</a>. The following key types defined in this specification follow this scheme:<ul>
<li><a class="el" href="group__crypto__types.html#ga2d025cd49d106070010c121441e6e171" title="A key for a cipher or MAC algorithm based on DES or 3DES (Triple-DES). ">CY_P64_PSA_KEY_TYPE_DES</a>. Force-set the parity bits, but discard forbidden weak keys. For 2-key and 3-key triple-DES, the three keys are generated successively (for example, for 3-key triple-DES, if the first 8 bytes specify a weak key and the next 8 bytes do not, discard the first 8 bytes, use the next 8 bytes as the first key, and continue reading output from the operation to derive the other two keys).</li>
<li>Finite-field Diffie-Hellman keys (<a class="el" href="group__crypto__types.html#gaef21adbbcda102aad2974591920f2c96" title="Diffie-Hellman key pair. ">CY_P64_PSA_KEY_TYPE_DH_KEY_PAIR</a>(<code>group</code>) where <code>group</code> designates any Diffie-Hellman group) and ECC keys on a Weierstrass elliptic curve (<a class="el" href="group__crypto__types.html#gab703112f332854a9cbc855d6e1fb8778" title="Elliptic curve key pair. ">CY_P64_PSA_KEY_TYPE_ECC_KEY_PAIR</a>(<code>curve</code>) where <code>curve</code> designates a Weierstrass curve). For these key types, interpret the byte string as integer in big-endian order. Discard it if it is not in the range [0, <em>N</em> - 2] where <em>N</em> is the boundary of the private key domain (the prime <em>p</em> for Diffie-Hellman, the subprime <em>q</em> for DSA, or the order of the curve's base point for ECC). Add 1 to the resulting integer and use this as the private key <em>x</em>. This method allows compliance to NIST standards, specifically the methods titled "key-pair generation by testing candidates" in NIST SP 800-56A &sect;5.6.1.1.4 for Diffie-Hellman, in FIPS 186-4 &sect;B.1.2 for DSA, and in NIST SP 800-56A &sect;5.6.1.2.2 or FIPS 186-4 &sect;B.4.2 for elliptic curve keys.</li>
</ul>
</li>
<li>For other key types, including <a class="el" href="group__crypto__types.html#ga5fafd70dd957c51cbf1456b6558778ff" title="RSA key pair (private and public key). ">CY_P64_PSA_KEY_TYPE_RSA_KEY_PAIR</a>, the way in which the operation output is consumed is implementation-defined.</li>
</ul>
<p>In all cases, the data that is read is discarded from the operation. The operation's capacity is decreased by the number of bytes read.</p>
<p>For algorithms that take an input step <a class="el" href="group__key__derivation.html#ga9f5d5510f5f392b555ddd69d4774b37d" title="A secret input for key derivation. ">CY_P64_PSA_KEY_DERIVATION_INPUT_SECRET</a>, the input to that step must be provided with cy_p64_psa_key_derivation_input_key(). Future versions of this specification may include additional restrictions on the derived key based on the attributes and strength of the secret key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attributes</td><td>The attributes for the new key. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">operation</td><td>The key derivation operation object to read from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>On success, a handle to the newly created key. <code>0</code> on failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gabf57808e9787a7f482bdfc8a1b377685" title="The action was completed successfully. ">CY_P64_PSA_SUCCESS</a></td><td>Success. If the key is persistent, the key material and the key's metadata have been saved to persistent storage. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga6d39973d1c650223f9b8d631900c55d8" title="Asking for an item that already exists. ">CY_P64_PSA_ERROR_ALREADY_EXISTS</a></td><td>This is an attempt to create a persistent key, and there is already a persistent key with the given identifier. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga6e37a5bc14d34060b0be8fce31ce7d4a" title="Return this error when there&#39;s insufficient data when attempting to read from a resource. ">CY_P64_PSA_ERROR_INSUFFICIENT_DATA</a></td><td>There was not enough data to create the desired key. Note that in this case, no output is written to the output buffer. The operation's capacity is set to 0, thus subsequent calls to this function will not succeed, even with a smaller output buffer. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga0acb01b82422b2aef20c543f38622bf2" title="The requested operation or a parameter is not supported by this implementation. ">CY_P64_PSA_ERROR_NOT_SUPPORTED</a></td><td>The key type or key size is not supported, either by the implementation in general or in this particular location. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga1c798809ceb7c9e0fb4da0c2adfdd34c" title="The parameters passed to the function are invalid. ">CY_P64_PSA_ERROR_INVALID_ARGUMENT</a></td><td>The provided key attributes are not valid for the operation. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga489bed3982ecce165e0524e5debb9fd0" title="The requested action is denied by a policy. ">CY_P64_PSA_ERROR_NOT_PERMITTED</a></td><td>The <a class="el" href="group__key__derivation.html#ga9f5d5510f5f392b555ddd69d4774b37d" title="A secret input for key derivation. ">CY_P64_PSA_KEY_DERIVATION_INPUT_SECRET</a> input was not provided through a key. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gae5c7844defdf120d28efb745183538b9" title="The requested action cannot be performed in the current state. ">CY_P64_PSA_ERROR_BAD_STATE</a></td><td>The operation state is not valid (it must be active and completed all required input steps). </td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa209f7289e4f7ccf07c693e99638e0c3" title="There is not enough runtime memory. ">CY_P64_PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gacfc611f3ea71b4432dcb8b39cc3b9a45" title="There is not enough persistent storage. ">CY_P64_PSA_ERROR_INSUFFICIENT_STORAGE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga90493ef15f5b8e005f8d9ec1cf5d28a2" title="There was a communication failure inside the implementation. ">CY_P64_PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaa48736089fd7ef40a370948e6e2160da" title="A hardware failure was detected. ">CY_P64_PSA_ERROR_HARDWARE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#gaee7005bec37e7c8b61cf07800c8252ff" title="A tampering attempt was detected. ">CY_P64_PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__psacrypto__error.html#ga4968b5ad5c87add717f57c5e018cd4e5" title="There was a storage failure that may have led to data loss. ">CY_P64_PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>PSoC64 Secure Boot Utilities Middleware Library 1.0</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
